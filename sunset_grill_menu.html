<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Sunset Grill Menu</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
        <style>
        /* ===========================
   Global Styles
=========================== */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}

body {
    line-height: 1.6;
    background-color: #fff;
    color: #333;
    font-size: 16px;
    padding: 10px;
}

/* ===========================
   Restaurant Header
=========================== */
.restaurant-header {
    text-align: center;
    padding: 15px 10px;
}

.restaurant-name {
    font-size: 2.2em;
    font-weight: 700;
    margin-bottom: 10px;
}

.restaurant-logo {
    max-width: 150px;
    height: auto;
    margin-bottom: 10px;
}

.restaurant-description {
    font-size: 1.1em;
    color: #555;
    margin-bottom: 12px;
}

.restaurant-contact {
    font-size: 1em;
    color: #666;
}

.restaurant-contact p {
    margin: 3px 0;
}

/* ===========================
   Categories
=========================== */
.category-name {
    font-size: 1.6em;
    font-weight: 600;
    margin-bottom: 10px;
    border-bottom: 1px solid #eee;
    padding-bottom: 5px;
}

/* ===========================
   Subcategories
=========================== */
.subcategory-name {
    font-size: 1.3em;
    font-weight: 500;
    margin-bottom: 6px;
}

/* ===========================
   Menu Items
=========================== */
.menu-item {
    margin-bottom: 12px;
    padding: 10px;
    border-bottom: 1px solid #eee;
}

.item-name {
    font-weight: 600;
    font-size: 1.2em;
    display: block;
    margin-bottom: 4px;
}

.item-price {
    color: #2a9d8f;
    font-weight: 500;
    margin-right: 5px;
}

.item-description {
    display: block;
    font-style: italic;
    font-size: 1.05em;
    color: #555;
    margin-top: 4px;
    line-height: 1.5;
}

.item-allergens {
    display: block;
    font-size: 0.95em;
    color: #888;
    margin-top: 3px;
}

/* ===========================
   Responsive & Mobile Optimizations
=========================== */
@media (max-width: 768px) {
    body {
        font-size: 18px;
        padding: 12px;
    }

    .restaurant-name {
        font-size: 2.6em;
    }

    .category-name {
        font-size: 1.8em;
    }

    .subcategory-name {
        font-size: 1.5em;
    }

    .item-name {
        font-size: 1.6em;
    }

    .item-description {
        font-size: 1.3em;
        line-height: 1.45;
    }

    .item-allergens {
        font-size: 1.1em;
    }

    .menu-item {
        padding: 14px;
    }
}

@media (max-width: 480px) {
    body {
        font-size: 19px;
        padding: 14px;
    }

    .restaurant-name {
        font-size: 2.8em;
    }

    .category-name {
        font-size: 1.9em;
    }

    .subcategory-name {
        font-size: 1.6em;
    }

    .item-name {
        font-size: 1.7em;
    }

    .item-description {
        font-size: 1.35em;
        line-height: 1.5;
    }

    .item-allergens {
        font-size: 1.15em;
    }

    .menu-item {
        padding: 16px;
    }
}

        </style>
    
</head>
<body>

    <header class="restaurant-header">
        <h1 class="restaurant-name">Sunset Grill</h1>

        
            <img class="restaurant-logo" src="logo.png" alt="Restaurant Logo">
        

        <p class="restaurant-description">A cozy bistro serving modern European cuisine with fresh ingredients.</p>

        <div class="restaurant-contact">
            <p class="restaurant-location"><strong>Location:</strong> 123 Market St, Prague</p>
            <p class="restaurant-email"><strong>Email:</strong> info@sunsetgrill.example.com</p>
            <p class="restaurant-phone"><strong>Phone:</strong> +420 123 456 789</p>
            <p class="restaurant-website"><strong>Website:</strong> https://sunsetgrill.example.com</p>
            <p class="restaurant-instagram"><strong>Instagram:</strong> @sunsetgrill_example</p>
        </div>
    </header>

    <hr>

    <!-- Filter Header Row -->
    <div class="filter-header d-flex align-items-center mb-2 p-2 rounded bg-light shadow-sm" style="gap: 0.5rem; flex-wrap: wrap;">

        <!-- Filter Toggle Button -->
        <button id="toggleFilters" class="btn btn-outline-primary btn-sm flex-shrink-0">
            Show Filters ▼
        </button>

        <!-- Active Filters Display -->
        <div id="activeFilters" class="flex-grow-1 text-truncate small" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            No active filters
        </div>

        <!-- Item Count Display -->
        <div id="itemCount" class="small me-2 flex-shrink-0">
        <p></strong> 31</p>
        </div>

        <!-- Clear Filters Button -->
        <button id="clearFilters" class="btn btn-outline-secondary btn-sm flex-shrink-0">
            Clear
        </button>

        <!-- View List Button -->
        <button id="viewListBtn" class="btn btn-primary btn-sm flex-shrink-0">
            View List (0)
        </button>

    </div>


    <!-- Collapsible Filter Section -->
    <div id="filtersContainer" class="filters mb-3 p-2 rounded bg-light shadow-sm collapse-container">
        <div class="row g-2 align-items-start">

            <!-- Category Filter -->
            <div class="col-md-4 col-12">
                <label for="categoryFilter" class="form-label small fw-bold">Category</label>
                <select id="categoryFilter" class="form-select form-select-sm">
                    <option value="">All Categories</option>
                    
                        <option value="Main Course">Main Course</option>
                    
                        <option value="Snacks">Snacks</option>
                    
                        <option value="Drinks">Drinks</option>
                    
                        <option value="Dessert">Dessert</option>
                    
                </select>
            </div>

            <!-- Max Price Filter -->
            <div class="col-md-4 col-12">
                <label for="priceFilter" class="form-label small fw-bold">Max Price</label>
                <input type="number" id="priceFilter" class="form-control form-control-sm" placeholder="No limit" step="5" min="0">
            </div>

            <!-- Allergens Filter (Checkboxes) -->
            <div class="col-md-4 col-12">
                <label class="form-label small fw-bold">Exclude Allergens</label>
                <div id="allergensFilter" class="d-flex flex-wrap gap-1">
                    
                        <div class="form-check form-check-inline">
                            <input class="form-check-input allergen-checkbox" type="checkbox" value="eggs" id="allergen-1">
                            <label class="form-check-label small" for="allergen-1">eggs</label>
                        </div>
                    
                        <div class="form-check form-check-inline">
                            <input class="form-check-input allergen-checkbox" type="checkbox" value="fish" id="allergen-2">
                            <label class="form-check-label small" for="allergen-2">fish</label>
                        </div>
                    
                        <div class="form-check form-check-inline">
                            <input class="form-check-input allergen-checkbox" type="checkbox" value="gluten" id="allergen-3">
                            <label class="form-check-label small" for="allergen-3">gluten</label>
                        </div>
                    
                        <div class="form-check form-check-inline">
                            <input class="form-check-input allergen-checkbox" type="checkbox" value="milk" id="allergen-4">
                            <label class="form-check-label small" for="allergen-4">milk</label>
                        </div>
                    
                        <div class="form-check form-check-inline">
                            <input class="form-check-input allergen-checkbox" type="checkbox" value="shellfish" id="allergen-5">
                            <label class="form-check-label small" for="allergen-5">shellfish</label>
                        </div>
                    
                </div>
            </div>

        </div>
    </div>



        <main class="menu-container">
            
                <section class="category">
                    <h2 class="category-name">Main Course</h2>

                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Seafood</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="iv7U1">
                                        <strong class="item-name">Grilled Salmon</strong><br>

                                        
                                            <span class="item-price">290 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Fresh salmon with lemon butter sauce.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: fish</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Meat</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="T7I6r">
                                        <strong class="item-name">Beef Steak</strong><br>

                                        
                                            <span class="item-price">350 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Sirloin steak grilled to perfection.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="Orvcm">
                                        <strong class="item-name">Chicken Skewers</strong><br>

                                        
                                            <span class="item-price">180 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Grilled marinated chicken skewers served with garlic dip.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="Vl3So">
                                        <strong class="item-name">BLT Sandwich</strong><br>

                                        
                                            <span class="item-price">130 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Bacon, lettuce, tomato sandwich.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="JdM4k">
                                        <strong class="item-name">Chicken Burger</strong><br>

                                        
                                            <span class="item-price">170 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Grilled chicken patty with lettuce and tomato.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="Qtk6P">
                                        <strong class="item-name">Pepperoni Pizza Slice</strong><br>

                                        
                                            <span class="item-price">100 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Spicy pepperoni with mozzarella cheese.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten, milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Vegetarian</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="c4Wpk">
                                        <strong class="item-name">Veggie Wrap</strong><br>

                                        
                                            <span class="item-price">140 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Fresh vegetables wrapped in warm flatbread.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="gRbaK">
                                        <strong class="item-name">Caesar Salad</strong><br>

                                        
                                            <span class="item-price">150 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Crisp lettuce with Caesar dressing and croutons.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: milk, eggs, fish</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="UVx6v">
                                        <strong class="item-name">Veggie Burger</strong><br>

                                        
                                            <span class="item-price">160 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Plant-based patty with fresh vegetables.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="WZIyo">
                                        <strong class="item-name">Mozzarella Pizza Slice</strong><br>

                                        
                                            <span class="item-price">90 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Classic pizza slice with tomato sauce and cheese.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten, milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                </section>
            
                <section class="category">
                    <h2 class="category-name">Snacks</h2>

                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Seafood</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="PQAo1">
                                        <strong class="item-name">Fried Shrimp Basket</strong><br>

                                        
                                            <span class="item-price">160 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Crispy fried shrimp served with tartar sauce.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: shellfish, gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Sides</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="e2yDK">
                                        <strong class="item-name">French Fries</strong><br>

                                        
                                            <span class="item-price">60 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Crispy salted potato fries.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="nwo5e">
                                        <strong class="item-name">Onion Rings</strong><br>

                                        
                                            <span class="item-price">65 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Golden fried onion rings with dipping sauce.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="P61EZ">
                                        <strong class="item-name">Mozzarella Sticks</strong><br>

                                        
                                            <span class="item-price">80 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Breaded mozzarella fried to perfection.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten, milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="WnXKK">
                                        <strong class="item-name">Nachos with Cheese</strong><br>

                                        
                                            <span class="item-price">95 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Crispy nachos with melted cheese and salsa.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Meat</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="VZH9a">
                                        <strong class="item-name">Chicken Nuggets</strong><br>

                                        
                                            <span class="item-price">120 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Breaded chicken bites with dipping sauce.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                </section>
            
                <section class="category">
                    <h2 class="category-name">Drinks</h2>

                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Hot</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="WWhdV">
                                        <strong class="item-name">Cappuccino</strong><br>

                                        
                                            <span class="item-price">65 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Classic Italian cappuccino.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="nM8wY">
                                        <strong class="item-name">Hot Chocolate</strong><br>

                                        
                                            <span class="item-price">60 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Creamy hot chocolate with cocoa.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Cold</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="BadJ9">
                                        <strong class="item-name">Iced Tea</strong><br>

                                        
                                            <span class="item-price">45 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Refreshing chilled tea with lemon.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="QE8E2">
                                        <strong class="item-name">Fresh Lemonade</strong><br>

                                        
                                            <span class="item-price">55 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Homemade lemonade with mint.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="NaEDt">
                                        <strong class="item-name">Cola</strong><br>

                                        
                                            <span class="item-price">40 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Classic carbonated cola drink.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="w9UXo">
                                        <strong class="item-name">Orange Juice</strong><br>

                                        
                                            <span class="item-price">50 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Freshly squeezed orange juice.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="Bdj7i">
                                        <strong class="item-name">Smoothie</strong><br>

                                        
                                            <span class="item-price">70 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Blended fruit smoothie.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="RZryE">
                                        <strong class="item-name">Mineral Water</strong><br>

                                        
                                            <span class="item-price">30 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Still or sparkling mineral water.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                </section>
            
                <section class="category">
                    <h2 class="category-name">Dessert</h2>

                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Pastry</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="t2iNK">
                                        <strong class="item-name">Apple Pie</strong><br>

                                        
                                            <span class="item-price">75 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Warm apple pie with cinnamon.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="rf4uh">
                                        <strong class="item-name">Churros</strong><br>

                                        
                                            <span class="item-price">55 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Fried dough with sugar and cinnamon.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten, milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Bakery</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="Y3Bcf">
                                        <strong class="item-name">Chocolate Muffin</strong><br>

                                        
                                            <span class="item-price">50 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Soft muffin with melted chocolate chunks.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten, milk, eggs</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                                    <li class="menu-item" data-item-id="edUCK">
                                        <strong class="item-name">Cheesecake</strong><br>

                                        
                                            <span class="item-price">85 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Creamy cheesecake with berry topping.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten, milk, eggs</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Healthy</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="GsKQP">
                                        <strong class="item-name">Fruit Salad</strong><br>

                                        
                                            <span class="item-price">70 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Seasonal fruits served fresh.</em><br>
                                        

                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Breakfast</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="MKya2">
                                        <strong class="item-name">Pancakes with Syrup</strong><br>

                                        
                                            <span class="item-price">80 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Fluffy pancakes with maple syrup.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: gluten, milk, eggs</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                        <div class="subcategory">
                            
                                <h3 class="subcategory-name">Frozen</h3>
                            

                            <ul class="item-list">
                                
                                    <li class="menu-item" data-item-id="VfIyX">
                                        <strong class="item-name">Ice Cream Cone</strong><br>

                                        
                                            <span class="item-price">45 CZK</span>
                                        <br>

                                        
                                            <em class="item-description">Single scoop ice cream cone.</em><br>
                                        

                                        
                                            <small class="item-allergens">Allergens: milk</small><br>
                                        

                                        <div class="action-buttons mt-1">
                                            <button class="btn btn-sm btn-success add-to-list-btn">+</button>
                                            <!-- Remove button is dynamically injected -->
                                        </div>
                                    </li>
                                
                            </ul>



                        </div>
                    
                </section>
            
        </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const categoryFilter = document.getElementById('categoryFilter');
            const priceFilter = document.getElementById('priceFilter');
            const clearBtn = document.getElementById('clearFilters');
            const allergenCheckboxes = Array.from(document.querySelectorAll('.allergen-checkbox'));
            const filtersContainer = document.getElementById('filtersContainer');
            const toggleFiltersBtn = document.getElementById('toggleFilters');
            const activeFiltersDiv = document.getElementById('activeFilters');
            const itemCountDiv = document.getElementById('itemCount');

            // ----- Toggle Filter Section with animation and button text -----
            toggleFiltersBtn.addEventListener('click', () => {
                const isShown = filtersContainer.classList.toggle('show');
                toggleFiltersBtn.textContent = isShown ? 'Hide Filters ▲' : 'Show Filters ▼';
            });

            // ----- Set dynamic minimum and step price ONCE -----
            var statistics = {"categories_count": {"Dessert": 7, "Drinks": 8, "Main Course": 10, "Snacks": 6}, "cheapest_price": 30, "highest_price": 350, "price_step": 16, "total_items": 31};
            (function setPriceLimitsOnce() {
                if (statistics.cheapest_price !== undefined && statistics.price_step !== undefined) {
                    priceFilter.min = statistics.cheapest_price || 0;
                    priceFilter.step = statistics.price_step || 5;
                    priceFilter.value = '';
                }
            })();

            function updateActiveFilters() {
                const active = [];
                if (categoryFilter.value) active.push(`Category: ${categoryFilter.value}`);
                if (priceFilter.value) active.push(`Max Price: ${priceFilter.value}`);
                const selectedAllergens = allergenCheckboxes.filter(cb => cb.checked).map(cb => cb.value);
                if (selectedAllergens.length) active.push(`Exclude: ${selectedAllergens.join(', ')}`);

                activeFiltersDiv.textContent = active.length ? active.join(' | ') : 'No active filters';
            }

            function filterMenu() {
            const selectedCategory = categoryFilter.value;
            const maxPrice = priceFilter.value ? parseFloat(priceFilter.value) : null;
            const excludedAllergens = allergenCheckboxes
                                        .filter(cb => cb.checked)
                                        .map(cb => cb.value);

            let visibleCount = 0;

            document.querySelectorAll('.menu-item').forEach(item => {
                const itemCategory = item.closest('.category')
                                        .querySelector('.category-name').textContent;
                const itemPrices = Array.from(item.querySelectorAll('.item-price'))
                                        .map(p => parseFloat(p.textContent));
                const itemAllergens = item.querySelector('.item-allergens')
                                        ? item.querySelector('.item-allergens').textContent
                                            .replace('Allergens: ', '')
                                            .split(', ')
                                            .map(a => a.trim())
                                        : [];

                // ---- FILTER VISIBILITY ----
                // Hide entire categories that are not selected
                document.querySelectorAll("section.category").forEach(section => {
                    const catName = section.querySelector(".category-name").textContent;

                    if (!selectedCategory || catName === selectedCategory) {
                        section.style.display = "";
                    } else {
                        section.style.display = "none";
                    }
                });
                // ---- MOVE SELECTED CATEGORY TO TOP ----

                if (selectedCategory) {
                    const container = document.querySelector(".menu-container");
                    const sections = Array.from(document.querySelectorAll("section.category"));

                    sections.forEach(section => {
                        const catName = section.querySelector(".category-name").textContent;
                        if (catName === selectedCategory) {
                            container.prepend(section);  // move to top
                        }
                    });
                }

                // Hide individual items based on filters of price and allergens
                const priceMatch = !maxPrice || itemPrices.some(price => price <= maxPrice);
                const allergensMatch = !excludedAllergens.length || excludedAllergens.every(a => !itemAllergens.includes(a));
                const categoryMatch = !selectedCategory || itemCategory === selectedCategory;
                const show = categoryMatch && priceMatch && allergensMatch;
                item.style.display = show ? '' : 'none';
                if (show) visibleCount++;

                // ---- HIDE EMPTY CATEGORIES ----
                document.querySelectorAll("section.category").forEach(section => {

                    // Count how many visible items remain in this category
                    const visibleItems = section.querySelectorAll(".menu-item:not([style*='display: none'])").length;

                    if (visibleItems === 0) {
                        section.style.display = "none";
                    } else {
                        section.style.display = "";
                    }
                });

            });

            updateActiveFilters();

            // Smooth item count update
            const newCountText = `${visibleCount} item${visibleCount !== 1 ? 's' : ''}`;
            if (itemCountDiv.textContent !== newCountText) {
                itemCountDiv.style.opacity = '0';
                setTimeout(() => {
                    itemCountDiv.textContent = newCountText;
                    itemCountDiv.style.opacity = '1';
                }, 150);
            }
            }

            // --- Attach events ---
            categoryFilter.addEventListener('change', filterMenu);
            priceFilter.addEventListener('input', filterMenu);
            allergenCheckboxes.forEach(cb => cb.addEventListener('change', filterMenu));

            // --- Clear filters button ---
            clearBtn.addEventListener('click', () => {
                categoryFilter.value = '';
                priceFilter.value = '';
                allergenCheckboxes.forEach(cb => cb.checked = false);
                filterMenu();
            });

            // --- Initialize ---
            filterMenu();
        });

        // GLOBAL LIST
        var user_list = [];

        // Utility to extract the lowest price from an item element
        function getItemPrice(itemEl) {
            const prices = Array.from(itemEl.querySelectorAll('.item-price'))
                                .map(p => parseFloat(p.textContent));
            return Math.min(...prices);
        }

        // LIST MANAGEMENT
        document.addEventListener('DOMContentLoaded', () => {

            // ------------------------------------------------------------------
            // UPDATE VIEW LIST BUTTON COUNT
            // ------------------------------------------------------------------

            function updateViewListCount() {
                const count = user_list.reduce((sum, i) => sum + i.qty, 0);
                document.getElementById('viewListBtn').textContent = `View List (${count})`;
            }

            function syncButtonsWithList() {
                document.querySelectorAll('.menu-item').forEach(itemEl => {
                    const itemId = itemEl.dataset.itemId;
                    const addBtn = itemEl.querySelector('.add-to-list-btn');
                    const minusBtn = itemEl.querySelector('.remove-from-list-btn');
                    const viewBtn = itemEl.querySelector('.view-list-btn');

                    const exists = user_list.find(i => i.id === itemId);

                    if (!exists) {
                        // Item NOT in list → reset UI
                        if (addBtn) {
                            addBtn.textContent = "+";
                            addBtn.disabled = false;
                        }
                        if (minusBtn) {
                            minusBtn.remove();
                        }
                        if (viewBtn) {
                            viewBtn.remove();
                        }
                    } else {
                        // Item IS in list → ensure disabled & minus visible
                        if (addBtn) {
                            addBtn.textContent = "✓";
                            addBtn.disabled = true;
                        }

                        if (!minusBtn) {
                            // create minus button if missing
                            const minusBtnNew = document.createElement('button');
                            minusBtnNew.className = "btn btn-sm btn-outline-danger ms-2 remove-from-list-btn";
                            minusBtnNew.textContent = "–";

                            itemEl.querySelector('.action-buttons').appendChild(minusBtnNew);

                            minusBtnNew.addEventListener('click', () => {
                                let item = user_list.find(i => i.id === itemId);

                                if (item) {
                                    item.qty--;
                                    if (item.qty <= 0) {
                                        user_list = user_list.filter(i => i.id !== itemId);
                                    }
                                }

                                updateViewListCount();
                                syncButtonsWithList();
                            });
                        }
                    }
                });
            }


            // ------------------------------------------------------------------
            // ADD ITEMS TO LIST
            // ------------------------------------------------------------------
            document.querySelectorAll('.add-to-list-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const itemEl = e.target.closest('.menu-item');
                    const itemId = itemEl.dataset.itemId;
                    const itemName = itemEl.querySelector('.item-name').textContent;
                    const itemPrice = getItemPrice(itemEl);

                    let existing = user_list.find(i => i.id === itemId);

                    if (existing) {
                        existing.qty++;
                    } else {
                        user_list.push({
                            id: itemId,
                            name: itemName,
                            price: itemPrice,
                            qty: 1
                        });
                    }

                    btn.textContent = "✓";
                    btn.disabled = true;

                    // Add minus button next to it only once
                    let minusBtn = itemEl.querySelector('.remove-from-list-btn');
                    if (!minusBtn) {
                        minusBtn = document.createElement('button');
                        minusBtn.className = "btn btn-sm btn-outline-danger ms-2 remove-from-list-btn";
                        minusBtn.textContent = "–";
                        itemEl.querySelector('.action-buttons').appendChild(minusBtn);

                        minusBtn.addEventListener('click', () => {
                            let item = user_list.find(i => i.id === itemId);

                            if (item) {
                                item.qty--;
                                if (item.qty <= 0) {
                                    user_list = user_list.filter(i => i.id !== itemId);
                                    minusBtn.remove();
                                    viewBtn.remove();
                                    btn.textContent = "+";
                                    btn.disabled = false;
                                }
                            }

                            updateViewListCount();
                            syncButtonsWithList();
                        });
                    }

                    // Add view list button next to it only once
                    let viewBtn = itemEl.querySelector('.view-list-btn');
                    if (!viewBtn) {
                        viewBtn = document.createElement('button');
                        viewBtn.className = "btn btn-sm btn-outline-primary ms-2 view-list-btn";
                        viewBtn.textContent = "View List";
                        viewBtn.id = "viewListBtn";
                        itemEl.querySelector('.action-buttons').appendChild(viewBtn);
                    }



                    updateViewListCount();
                    syncButtonsWithList();
                });
            });


            // ------------------------------------------------------------------
            // POPUP HANDLING
            // ------------------------------------------------------------------
            const popup = document.getElementById('userListPopup');
            const popupListItems = document.getElementById('popupListItems');
            const popupTotal = document.getElementById('popupTotal');
            const closePopupBtn = document.getElementById('closePopupBtn');
            const viewListBtn = document.getElementById('viewListBtn');

            function renderPopup() {
                    popupListItems.innerHTML = "";
                    let total = 0;

                    user_list.forEach(item => {
                        const row = document.createElement('div');
                        row.className = "d-flex justify-content-between align-items-center border-bottom py-2";

                        total += item.price * item.qty;

                        row.innerHTML = `
                            <div>
                                <div class="fw-bold">${item.name}</div>
                                <div class="text-muted small">${item.price} CZK each</div>
                            </div>

                            <div class="d-flex align-items-center" style="gap: .4rem;">

                                <button class="btn btn-sm btn-outline-secondary qty-minus">–</button>
                                <span class="px-2">${item.qty}</span>
                                <button class="btn btn-sm btn-outline-secondary qty-plus">+</button>

                                <button class="btn btn-sm btn-outline-danger ms-2 remove-item">
                                    🗑
                                </button>
                            </div>
                        `;

                        // Handle minus
                        row.querySelector('.qty-minus').addEventListener('click', () => {
                            item.qty--;
                            if (item.qty <= 0) {
                                user_list = user_list.filter(i => i.id !== item.id);
                            }
                            renderPopup();
                            updateViewListCount();
                            syncButtonsWithList();
                        });

                        // Handle plus
                        row.querySelector('.qty-plus').addEventListener('click', () => {
                            item.qty++;
                            renderPopup();
                            updateViewListCount();
                        });

                        // Handle remove icon
                        row.querySelector('.remove-item').addEventListener('click', () => {
                            user_list = user_list.filter(i => i.id !== item.id);
                            renderPopup();
                            updateViewListCount();
                            syncButtonsWithList();
                        });

                        popupListItems.appendChild(row);
                    });

                    popupTotal.textContent = total + " CZK";
            }
            function updateViewListCount() {
                const count = user_list.reduce((sum, i) => sum + i.qty, 0);
                document.getElementById('viewListBtn').textContent = `View List (${count})`;
            }


            viewListBtn.addEventListener('click', () => {
                popup.classList.remove('d-none');
                renderPopup();
            });

            closePopupBtn.addEventListener('click', () => {
                popup.classList.add('d-none');
            });

            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('view-list-btn')) {
                    popup.classList.remove('d-none');
                    renderPopup();
                }
            });


            // Clicking outside the box closes popup
            popup.addEventListener('click', (e) => {
                if (e.target === popup) popup.classList.add('d-none');
            });

        });

    </script>

    <div id="userListPopup" class="user-list-popup d-none">
        <div class="popup-inner shadow-lg rounded bg-white p-3">
            <h4>My List</h4>
            <div id="popupListItems"></div>

            <hr>

            <div class="d-flex justify-content-between fw-bold">
                <span>Total:</span>
                <span id="popupTotal"></span>
            </div>

            <div class="text-end mt-3">
                <button id="closePopupBtn" class="btn btn-secondary btn-sm">Close</button>
            </div>
        </div>
    </div>

</body>
</html>